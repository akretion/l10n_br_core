<?xml version="1.0" encoding="utf-8" ?>
<odoo noupdate="True">
    <!-- Invoice ItaÃº  Fornecedor TED -->
    <record id="demo_bill_itau_20_41" model="account.move">
        <field
            name="invoice_payment_term_id"
            ref="account.account_payment_term_advance"
        />
        <field name="partner_id" ref="l10n_br_base.res_partner_amd" />
        <field name="move_type">in_invoice</field>
        <field name="invoice_date" eval="time.strftime('%Y-%m')+'-01'"/>
        <field name="invoice_user_id" ref="base.user_demo" />
        <field name="partner_bank_id" ref="amd_bank_account" />
        <field name="payment_mode_id" ref="payment_mode_sispag_ted_doc_op" />
        <field name="payment_reference">test communication</field>
        <field
            name="invoice_line_ids"
            eval="[
            (0, 0, {'product_id': ref('product.product_product_5'), 'price_unit': 100, 'quantity': 10})
        ]"
        />
    </record>
    <function model="account.move" name="action_post">
        <value eval="[ref('demo_bill_itau_20_41')]" />
    </function>
    <!-- Add and Confirm Payment Order for this Bill-->
    <function model="account.move" name="create_account_payment_line">
        <value eval="[ref('demo_bill_itau_20_41')]" />
    </function>
    <function model="account.payment.order" name="draft2open">
        <value model="account.payment.order" eval="obj().search([
                ('payment_mode_id', '=', ref('payment_mode_sispag_ted_doc_op')),
            ]).id"/>
    </function>
</odoo>
